Act as a senior full-stack engineer and UI/UX designer.
Fix and finalize an existing tuition attendance web application so it is production-ready for Agarwal Tutorial.

Tech stack (mandatory):

Next.js (App Router) + React

Tailwind CSS

MongoDB Atlas with Mongoose

Next.js API routes

Data must persist permanently in MongoDB and never reset unless the database is manually cleared.

UI REQUIREMENTS

Professional, minimal, mobile-first design

Use the provided logo and the name Agarwal Tutorial

Remove all labels, cards, and explanatory text from the home page

Home page should only show logo, app name, and login entry points

ROLES

Admin

Admin signs up first and owns the system

Can create teachers, batches, students

Assign students to batches and guardian mobile numbers

Does not assign teachers to batches

Can edit attendance within 12 hours of publishing

Can override locked attendance

Teacher

Login via dropdown (Teacher Name + Teacher ID), no password

Multiple teachers can work on the same batch

Teacher can handle multiple batches

After login, teacher selects a batch from a dropdown

Teacher can switch batches anytime

Teacher can create sessions, mark attendance, publish attendance, edit within 12 hours

Guardian

Login using mobile number only

If multiple students are linked, show selection

Must always see attendance after it is published

Read-only access

ATTENDANCE RULES

Attendance is session-based

Each session belongs to one batch

Session states: DRAFT → PUBLISHED → LOCKED

Attendance editable for 12 hours after publishing (teacher or admin)

ATTENDANCE UI

Use a heatmap

50 blocks (5 rows × 10 columns)

1 block = 1 session

Green = Present, Red = Absent, Grey = Not marked

Click shows session date and time

ANALYTICS

Attendance percentage updates immediately on publish

Percentage = present sessions / total published sessions

Teacher leaderboard per batch

No minimum session requirement

DATABASE

MongoDB Atlas with proper schemas and indexing

Collections: Admin, Teacher, Batch, Student, Session, Attendance

Fix all bugs causing attendance to not appear for teachers or guardians

Deliver a clean, bug-free, professional, ship-ready application suitable for real tuition use.